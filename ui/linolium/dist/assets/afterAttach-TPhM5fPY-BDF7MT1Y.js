import{M as r,N as c,j as d,t as g,u as n}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import"./index-Bwk-R6QR.js";import"./taxonium-component.es-D8UFPkMd.js";async function p(a){const e=g.getRpcSessionId(a),{rpcManager:s}=n.getSession(a),o=n.getContainingView(a);if(!o.initialized||a.error||!a.statsReadyAndRegionNotTooLarge)return;a.setLoading(!0);const t=await s.call(e,"CoreGetFeatures",{sessionId:e,regions:o.staticBlocks.contentBlocks,adapterConfig:a.adapterConfig});a.setFeatures(n.dedupe(t,i=>i.id())),a.setLoading(!1)}function f(a,e,s){r(a,c(async()=>{try{await e()}catch(o){d(a)&&a.setError(o)}},s))}function w(a){f(a,async()=>{await p(a)},{delay:1e3})}export{w as doAfterAttach};
