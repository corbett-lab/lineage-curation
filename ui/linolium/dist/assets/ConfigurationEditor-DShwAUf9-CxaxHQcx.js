import{j as t,r as x}from"./index-Bwk-R6QR.js";import{o as f,m as T,s as N,T as w,E as Z,G as P,c7 as Pe,H as Q,I as Me,F as Le,A as ee,P as te,c as j,a4 as y,U as Oe,u as ae,bP as Ae,a3 as Fe,c5 as Ee,bS as I,bb as Re,bT as U,c6 as Ie,c4 as Ue,bG as F,bp as re,an as ze,B as H,a as oe,bZ as He,aU as C,z as se,c3 as V}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import{e as De}from"./SanitizedHTML-BuU69Ctr-BSE6rulZ.js";import{u as ne,x as ie,S as le}from"./ExpandMore-D_3gmqEI-BdX02XnD.js";import{r as qe}from"./_commonjs-dynamic-modules-BpilXLfW-DfYEAvWy.js";import{F as Je}from"./FormControlLabel-t1db3bCW-BhUWxcLA.js";import{X as Ve}from"./Checkbox-DRfuV2d3-Bnouab3n.js";import{s as We}from"./jexlStrings-CDXgSi6r--_MXhKWv.js";import{c as Be}from"./ColorPicker-DfV0rLc1-CT4FsxiE.js";import{r as q}from"./Delete-DSU0jSiU-1j-ZpVRl.js";import{T as E,U as ce}from"./CardContent-Di2YOEAl-B4_V9uGq.js";import{q as Xe,O as de,o as i}from"./taxonium-component.es-D8UFPkMd.js";import{a as W}from"./ListItem-BegJmGel-CD2nrZTw.js";import{J as ue}from"./MenuItem-bcu4bG3--CNW0nWZm.js";import"./Collapse-BxSvw4ja-BFsBk1wj.js";import"./dividerClasses-CVTzPOoo-DLNaoCl0.js";function Ke(e){return ee("MuiAccordionDetails",e)}se("MuiAccordionDetails",["root"]);const Ge=e=>{const{classes:a}=e;return Q({root:["root"]},Ke,a)},_e=P("div",{name:"MuiAccordionDetails",slot:"Root"})(Me(({theme:e})=>({padding:e.spacing(1,2,2)}))),J=x.forwardRef(function(e,a){const o=Z({props:e,name:"MuiAccordionDetails"}),{className:n,...r}=o,c=o,d=Ge(c);return t.jsx(_e,{className:Xe(d.root,n),ref:a,ownerState:c,...r})});de.env.NODE_ENV!=="production"&&(J.propTypes={children:i.node,classes:i.object,className:i.string,sx:i.oneOfType([i.arrayOf(i.oneOfType([i.func,i.object,i.bool])),i.func,i.object])});function Ye(e){return ee("MuiCardHeader",e)}const R=se("MuiCardHeader",["root","avatar","action","content","title","subheader"]),Ze=e=>{const{classes:a}=e;return Q({root:["root"],avatar:["avatar"],action:["action"],content:["content"],title:["title"],subheader:["subheader"]},Ye,a)},Qe=P("div",{name:"MuiCardHeader",slot:"Root",overridesResolver:(e,a)=>[{[`& .${R.title}`]:a.title},{[`& .${R.subheader}`]:a.subheader},a.root]})({display:"flex",alignItems:"center",padding:16}),et=P("div",{name:"MuiCardHeader",slot:"Avatar"})({display:"flex",flex:"0 0 auto",marginRight:16}),tt=P("div",{name:"MuiCardHeader",slot:"Action"})({flex:"0 0 auto",alignSelf:"flex-start",marginTop:-4,marginRight:-8,marginBottom:-4}),at=P("div",{name:"MuiCardHeader",slot:"Content"})({flex:"1 1 auto",[`.${V.root}:where(& .${R.title})`]:{display:"block"},[`.${V.root}:where(& .${R.subheader})`]:{display:"block"}}),k=x.forwardRef(function(e,a){const o=Z({props:e,name:"MuiCardHeader"}),{action:n,avatar:r,component:c="div",disableTypography:d=!1,subheader:p,subheaderTypographyProps:m,title:S,titleTypographyProps:$,slots:M={},slotProps:L={},...O}=o,u={...o,component:c,disableTypography:d},s=Ze(u),l={slots:M,slotProps:{title:$,subheader:m,...L}};let h=S;const[g,v]=C("title",{className:s.title,elementType:w,externalForwardedProps:l,ownerState:u,additionalProps:{variant:r?"body2":"h5",component:"span"}});h!=null&&h.type!==w&&!d&&(h=t.jsx(g,{...v,children:h}));let b=p;const[be,je]=C("subheader",{className:s.subheader,elementType:w,externalForwardedProps:l,ownerState:u,additionalProps:{variant:r?"body2":"body1",color:"textSecondary",component:"span"}});b!=null&&b.type!==w&&!d&&(b=t.jsx(be,{...je,children:b}));const[ye,$e]=C("root",{ref:a,className:s.root,elementType:Qe,externalForwardedProps:{...l,...O,component:c},ownerState:u}),[Ce,we]=C("avatar",{className:s.avatar,elementType:et,externalForwardedProps:l,ownerState:u}),[Te,Se]=C("content",{className:s.content,elementType:at,externalForwardedProps:l,ownerState:u}),[Ne,ke]=C("action",{className:s.action,elementType:tt,externalForwardedProps:l,ownerState:u});return t.jsxs(ye,{...$e,children:[r&&t.jsx(Ce,{...we,children:r}),t.jsxs(Te,{...Se,children:[h,b]}),n&&t.jsx(Ne,{...ke,children:n})]})});de.env.NODE_ENV!=="production"&&(k.propTypes={action:i.node,avatar:i.node,children:i.node,classes:i.object,component:i.elementType,disableTypography:i.bool,slotProps:i.shape({action:i.oneOfType([i.func,i.object]),avatar:i.oneOfType([i.func,i.object]),content:i.oneOfType([i.func,i.object]),root:i.oneOfType([i.func,i.object]),subheader:i.oneOfType([i.func,i.object]),title:i.oneOfType([i.func,i.object])}),slots:i.shape({action:i.elementType,avatar:i.elementType,content:i.elementType,root:i.elementType,subheader:i.elementType,title:i.elementType}),subheader:i.node,subheaderTypographyProps:i.object,sx:i.oneOfType([i.arrayOf(i.oneOfType([i.func,i.object,i.bool])),i.func,i.object]),title:i.node,titleTypographyProps:i.object});var D={exports:{}},rt=D.exports,B;function ot(){return B||(B=1,(function(e,a){(function(o,n){typeof qe=="function"?e.exports=n():o.pluralize=n()})(rt,function(){var o=[],n=[],r={},c={},d={};function p(s){return typeof s=="string"?new RegExp("^"+s+"$","i"):s}function m(s,l){return s===l?l:s===s.toLowerCase()?l.toLowerCase():s===s.toUpperCase()?l.toUpperCase():s[0]===s[0].toUpperCase()?l.charAt(0).toUpperCase()+l.substr(1).toLowerCase():l.toLowerCase()}function S(s,l){return s.replace(/\$(\d{1,2})/g,function(h,g){return l[g]||""})}function $(s,l){return s.replace(l[0],function(h,g){var v=S(l[1],arguments);return m(h===""?s[g-1]:h,v)})}function M(s,l,h){if(!s.length||r.hasOwnProperty(s))return l;for(var g=h.length;g--;){var v=h[g];if(v[0].test(l))return $(l,v)}return l}function L(s,l,h){return function(g){var v=g.toLowerCase();return l.hasOwnProperty(v)?m(g,v):s.hasOwnProperty(v)?m(g,s[v]):M(v,g,h)}}function O(s,l,h,g){return function(v){var b=v.toLowerCase();return l.hasOwnProperty(b)?!0:s.hasOwnProperty(b)?!1:M(b,b,h)===b}}function u(s,l,h){var g=l===1?u.singular(s):u.plural(s);return(h?l+" ":"")+g}return u.plural=L(d,c,o),u.isPlural=O(d,c,o),u.singular=L(c,d,n),u.isSingular=O(c,d,n),u.addPluralRule=function(s,l){o.push([p(s),l])},u.addSingularRule=function(s,l){n.push([p(s),l])},u.addUncountableRule=function(s){if(typeof s=="string"){r[s.toLowerCase()]=!0;return}u.addPluralRule(s,"$0"),u.addSingularRule(s,"$0")},u.addIrregularRule=function(s,l){l=l.toLowerCase(),s=s.toLowerCase(),d[s]=l,c[l]=s},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(s){return u.addIrregularRule(s[0],s[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(s){return u.addPluralRule(s[0],s[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(s){return u.addSingularRule(s[0],s[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(u.addUncountableRule),u})})(D)),D.exports}var X=ot(),A=Ue();const st=Oe(t.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"RadioButtonUnchecked"),nt=f(function({slot:e}){return t.jsxs(Re,{children:[t.jsx(Je,{label:e.name,control:t.jsx(Ve,{checked:e.value,onChange:a=>{e.set(a.target.checked)}})}),t.jsx(U,{children:e.description})]})}),K='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',it=T()(e=>({callbackEditor:{marginTop:"16px",borderBottom:`1px solid ${e.palette.divider}`,width:"100%",fontFamily:K},textAreaFont:{fontFamily:K},callbackContainer:{width:"100%",overflowX:"auto"},error:{color:"red",fontSize:"0.8em"}})),lt=f(function({slot:e}){const{classes:a}=it(),[o,n]=x.useState(e.value),[r,c]=x.useState(),d=ae.useDebounce(o,400);return x.useEffect(()=>{var p;try{const m=d.startsWith("jexl:")?d:`jexl:${d}`;if(m==="jexl:")throw new Error("Empty jexl expression is not valid");We.stringToJexlExpression(m,(p=Ae(e).pluginManager)===null||p===void 0?void 0:p.jexl),e.set(m),c(void 0)}catch(m){console.error({e:m}),c(m)}},[d,e]),t.jsxs(t.Fragment,{children:[r?t.jsx("p",{className:a.error,children:`${r}`}):null,t.jsxs("div",{className:a.callbackContainer,children:[t.jsx(j,{multiline:!0,className:a.callbackEditor,value:o.startsWith("jexl:")?o.split("jexl:")[1]:o,onChange:p=>{n(p.target.value)},style:{background:r?"#fdd":void 0},slotProps:{input:{classes:{input:a.textAreaFont}}}}),t.jsx("p",{children:e.description}),t.jsx(Fe,{title:t.jsxs("div",{children:["Callbacks are written in Jexl format. Click to learn more.",t.jsx("br",{})," Names of available context items: ",e.contextVariable]}),arrow:!0,children:t.jsx(y,{color:"primary",onClick:()=>{const p=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");p&&(p.opener=null)},children:t.jsx(Ee,{})})})]})]})}),ct=e=>{const{value:a="#000",label:o="",TextFieldProps:n={},onChange:r}=e,[c,d]=x.useState(!1);return t.jsxs("div",{style:{display:"flex"},children:[t.jsx(j,{value:a,label:o,onClick:()=>{d(!c)},onChange:p=>{r(p.target.value)},...n}),t.jsx("div",{style:{marginTop:10},children:t.jsx(x.Suspense,{fallback:null,children:t.jsx(Be,{color:a,onChange:p=>{r(p)}})})})]})},dt=f(function(e){const{slot:a}=e;return t.jsx(ct,{label:a.name,value:a.value,onChange:o=>{a.set(o)},TextFieldProps:{helperText:a.description,fullWidth:!0}})});function z(e){const{helperText:a}=e;return t.jsx(j,{...e,helperText:t.jsx(oe.SanitizedHTML,{html:a||""}),fullWidth:!0,slotProps:{formHelperText:{component:"div"}}})}const ut="12px",G='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',pt=T()(e=>({error:{color:"red",fontSize:"0.8em"},callbackEditor:{fontFamily:G,fontSize:ut,background:e.palette.background.default,width:800,marginTop:"16px",border:"1px solid rgba(0,0,0,0.42)"},callbackContainer:{width:"100%",overflowX:"auto"},textAreaFont:{fontFamily:G}})),_=f(function({slot:e}){const{classes:a}=pt(),[o,n]=x.useState(JSON.stringify(e.value,null,2)),[r,c]=x.useState();return x.useEffect(()=>{try{c(void 0),e.set(JSON.parse(o))}catch(d){console.error({e:d}),c(d)}},[o,e]),t.jsxs(t.Fragment,{children:[r?t.jsx("p",{className:a.error,children:`${r}`}):null,t.jsxs("div",{className:a.callbackContainer,children:[t.jsx(I,{shrink:!0,htmlFor:"json-editor",children:e.name}),t.jsx(j,{id:"json-editor",className:a.callbackEditor,value:o,helperText:e.description,multiline:!0,onChange:d=>{n(d.target.value)},style:{background:r?"#fdd":void 0},slotProps:{input:{classes:{input:a.textAreaFont}}}})]})]})}),pe=f(function({slot:e}){const[a,o]=x.useState(e.value);return x.useEffect(()=>{var n;const r=Number.parseFloat(a);Number.isNaN(r)?(n=e.reset)===null||n===void 0||n.call(e):e.set(r)},[e,a]),t.jsx(z,{label:e.name,helperText:e.description,value:a,type:"number",onChange:n=>{o(n.target.value)}})}),mt=T()(e=>({card:{marginTop:e.spacing(1)}})),ht=f(function({slot:e}){const{classes:a}=mt(),[o,n]=x.useState("");return t.jsxs(t.Fragment,{children:[t.jsx(I,{children:e.name}),[...e.value].map(([r,c])=>t.jsxs(E,{raised:!0,className:a.card,children:[t.jsx(k,{title:r,action:t.jsx(y,{onClick:()=>{e.remove(r)},children:t.jsx(q,{})})}),t.jsx(ce,{children:t.jsx(pe,{slot:{value:c,set:d=>{e.add(r,d)}}})})]},r)),t.jsx(E,{raised:!0,className:a.card,children:t.jsx(k,{disableTypography:!0,title:t.jsx(j,{fullWidth:!0,value:o,placeholder:"add new",onChange:r=>{n(r.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(y,{disabled:o==="",onClick:()=>{e.add(o,0),n("")},children:t.jsx(re,{})})})}}})})}),t.jsx(U,{children:e.description})]})}),me=f(function({slot:e}){const[a,o]=x.useState(""),[n,r]=x.useState(!1);return t.jsxs(t.Fragment,{children:[e.name?t.jsx(I,{children:e.name}):null,t.jsxs(ze,{disablePadding:!0,children:[e.value.map((c,d)=>t.jsx(W,{disableGutters:!0,children:t.jsx(j,{value:c,onChange:p=>{e.setAtIndex(d,p.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(y,{onClick:()=>{e.removeAtIndex(d)},children:t.jsx(q,{})})})}}})},`${JSON.stringify(c)}-${d}`)),n?t.jsx(W,{disableGutters:!0,children:t.jsx(j,{value:a,placeholder:"add new",onChange:c=>{o(c.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsxs(t.Fragment,{children:[t.jsx(H,{color:"primary",variant:"contained",style:{margin:2},"data-testid":`stringArrayAdd-${e.name}`,onClick:()=>{r(!1),e.add(a),o("")},children:"OK"}),t.jsx(H,{color:"primary",variant:"contained",style:{margin:2},onClick:()=>{r(!1),o("")},children:"Cancel"})]})})}}})}):null,t.jsx(H,{color:"primary",variant:"contained",style:{margin:4},disabled:n,onClick:()=>{r(!0)},children:"Add item"})]}),t.jsx(U,{children:e.description})]})}),xt=T()(e=>({card:{marginTop:e.spacing(1)}})),ft=f(function({slot:e}){const{classes:a}=xt(),[o,n]=x.useState("");return t.jsxs(t.Fragment,{children:[t.jsx(I,{children:e.name}),[...e.value].map(([r,c])=>t.jsxs(E,{raised:!0,className:a.card,children:[t.jsx(k,{title:r,action:t.jsx(y,{onClick:()=>{e.remove(r)},children:t.jsx(q,{})})}),t.jsx(ce,{children:t.jsx(me,{slot:{name:e.name,value:c,description:`Values associated with entry ${r}`,setAtIndex:(d,p)=>{e.setAtKeyIndex(r,d,p)},removeAtIndex:d=>{e.removeAtKeyIndex(r,d)},add:d=>{e.addToKey(r,d)}}})})]},r)),t.jsx(E,{raised:!0,className:a.card,children:t.jsx(k,{disableTypography:!0,title:t.jsx(j,{fullWidth:!0,value:o,placeholder:"add new",onChange:r=>{n(r.target.value)},slotProps:{input:{endAdornment:t.jsx(F,{position:"end",children:t.jsx(y,{disabled:o==="",onClick:()=>{e.add(o,[]),n("")},children:t.jsx(re,{})})})}}})})}),t.jsx(U,{children:e.description})]})}),he=T()(e=>({paper:{display:"flex",marginBottom:e.spacing(2),position:"relative"},paperContent:{width:"100%"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}})),xe=f(function({slot:e}){return t.jsx(z,{label:e.name,helperText:e.description,value:e.value,onChange:a=>{e.set(a.target.value)}})}),gt=f(function({slot:e}){return t.jsx(j,{label:e.name,helperText:e.description,multiline:!0,value:e.value,onChange:a=>{e.set(a.target.value)}})}),vt=()=>t.jsx(He,{children:t.jsx("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"})}),bt=f(function({slot:e}){const[a,o]=x.useState(e.value);return x.useEffect(()=>{const n=Number.parseInt(a,10);Number.isNaN(n)||e.set(n)},[e,a]),t.jsx(z,{label:e.name,helperText:e.description,value:a,type:"number",onChange:n=>{o(n.target.value)}})}),jt=f(function({slot:e,slotSchema:a}){const o=Ie(A.getSubType(a)),n=A.getUnionSubTypes(A.getUnionSubTypes(A.getSubType(o.properties.value))[1]).map(r=>r.value);return t.jsx(z,{value:e.value,label:e.name,select:!0,helperText:e.description,onChange:r=>{e.set(r.target.value)},children:n.map(r=>t.jsx(ue,{value:r,children:r},r))})}),yt=f(function({slot:e}){var a;return t.jsx(oe.FileSelector,{location:e.value,setLocation:o=>{e.set(o)},name:e.name,description:e.description,rootModel:(a=ae.getEnv(e).pluginManager)===null||a===void 0?void 0:a.rootModel})}),Y={string:xe,text:gt,fileLocation:yt,stringArray:me,stringArrayMap:ft,numberMap:ht,number:pe,integer:bt,color:dt,stringEnum:jt,boolean:nt,frozen:_,configRelationships:_},$t=f(function({slot:e,slotSchema:a}){const{classes:o}=he(),{type:n}=e;let r=e.isCallback?lt:Y[n];return r||(console.warn(`no slot editor defined for ${n}, editing as string`),r=xe),n in Y||console.warn(`SlotEditor needs to implement ${n}`),t.jsxs(te,{className:o.paper,children:[t.jsx("div",{className:o.paperContent,children:t.jsx(r,{slot:e,slotSchema:a})}),t.jsx("div",{className:o.slotModeSwitch,children:e.contextVariable.length?t.jsx(y,{onClick:()=>e.isCallback?e.convertToValue():e.convertToCallback(),title:`convert to ${e.isCallback?"regular value":"callback"}`,children:e.isCallback?t.jsx(vt,{}):t.jsx(st,{})}):null})]})}),Ct=f(function({typeNameChoices:e,slot:a,slotName:o,onChange:n}){const{classes:r}=he();return t.jsx(te,{className:r.paper,children:t.jsx("div",{className:r.paperContent,children:t.jsx(j,{value:a.type,label:"Type",select:!0,helperText:`Type of ${o} to use`,fullWidth:!0,onChange:n,children:e.map(c=>t.jsx(ue,{value:c,children:c},c))})})})}),fe=T()(e=>({icon:{color:e.palette.tertiary.contrastText||"#fff"},expansionPanelDetails:{display:"block",padding:e.spacing(1)},accordion:{border:`1px solid ${e.palette.text.primary}`},noOverflow:{width:"100%",overflowX:"auto"}})),ge=f(function(e){const{classes:a}=fe(),{slotName:o,slotSchema:n,schema:r,slot:c=r[o],path:d=[]}=e;if(N.isConfigurationSchemaType(n)){if(c.length)return c.map((m,S)=>{const $=m.type?`${X.singular(o)} ${m.type}`:`${X.singular(o)} ${S+1}`;return t.jsx(ge,{...e,slot:m,slotName:$},$)});const p=N.getTypeNamesFromExplicitlyTypedUnion(n);return t.jsxs(ne,{defaultExpanded:!0,className:a.accordion,children:[t.jsx(ie,{expandIcon:t.jsx(le,{className:a.icon}),children:t.jsx(w,{children:[...d,o].join("➔")})}),t.jsxs(J,{className:a.expansionPanelDetails,children:[p.length?t.jsx(Ct,{typeNameChoices:p,slotName:o,slot:c,onChange:m=>{m.target.value!==c.type&&r.setSubschema(o,{type:m.target.value})}}):null,t.jsx(Le,{className:a.noOverflow,children:t.jsx(ve,{schema:c,path:[...d,o]})})]})]})}else return N.isConfigurationSlotType(n)?t.jsx($t,{slot:c,slotSchema:n},o):null}),ve=f(function({schema:e,path:a=[]}){const o=Pe(e).properties;return t.jsx(t.Fragment,{children:Object.entries(o).map(([n,r])=>t.jsx(ge,{slotName:n,slotSchema:r,path:a,schema:e},n))})}),Ht=f(function({model:e}){const{classes:a}=fe(),{target:o}=e,n=N.readConfObject(o,"trackId"),r=N.readConfObject(o,"name");return t.jsxs(ne,{defaultExpanded:!0,className:a.accordion,children:[t.jsx(ie,{expandIcon:t.jsx(le,{className:a.icon}),children:t.jsx(w,{children:t.jsx(De,{html:r??"Configuration"})})}),t.jsx(J,{className:a.expansionPanelDetails,"data-testid":"configEditor",children:t.jsx(ve,{schema:o})})]},n)});export{Ht as default};
