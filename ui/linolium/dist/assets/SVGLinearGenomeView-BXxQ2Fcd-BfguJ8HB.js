import{j as r,r as y}from"./index-Bwk-R6QR.js";import{w as je,u as E,t as Me,a as Re,cf as H,aB as G,ck as He,cl as Ge,cm as we,cn as Fe,c9 as Ne,cb as qe,cc as Ue,cd as Je,b3 as $e,ce as Xe,cj as Ye,ax as Qe,ca as Ze,c8 as Oe,cg as et,ch as tt,ci as ot}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import{O as T,o as f}from"./taxonium-component.es-D8UFPkMd.js";const se=y.createContext(null);T.env.NODE_ENV!=="production"&&(se.displayName="ThemeContext");function ie(){const e=y.useContext(se);return T.env.NODE_ENV!=="production"&&y.useDebugValue(e),e}const rt=typeof Symbol=="function"&&Symbol.for,nt=rt?Symbol.for("mui.nested"):"__THEME_NESTED__";function st(e,t){if(typeof t=="function"){const o=t(e);return T.env.NODE_ENV!=="production"&&(o||console.error(["MUI: You should return an object from your theme function, i.e.","<ThemeProvider theme={() => ({})} />"].join(`
`))),o}return{...e,...t}}function Y(e){const{children:t,theme:o}=e,n=ie();T.env.NODE_ENV!=="production"&&n===null&&typeof o=="function"&&console.error(["MUI: You are providing a theme function prop to the ThemeProvider component:","<ThemeProvider theme={outerTheme => outerTheme} />","","However, no outer theme is present.","Make sure a theme is already injected higher in the React tree or provide a theme object."].join(`
`));const i=y.useMemo(()=>{const a=n===null?{...o}:st(n,o);return a!=null&&(a[nt]=n!==null),a},[o,n]);return r.jsx(se.Provider,{value:i,children:t})}T.env.NODE_ENV!=="production"&&(Y.propTypes={children:f.node,theme:f.oneOfType([f.object,f.func]).isRequired});T.env.NODE_ENV!=="production"&&T.env.NODE_ENV!=="production"&&(Y.propTypes=Oe(Y.propTypes));function it(e){const t=Ne(),o=Qe()||"",{modularCssLayers:n}=e;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!n||t!==null?i="":typeof n=="string"?i=n.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,$e(()=>{var a,s;const l=document.querySelector("head");if(!l)return;const d=l.firstChild;if(i){if(d&&(a=d.hasAttribute)!=null&&a.call(d,"data-mui-layer-order")&&d.getAttribute("data-mui-layer-order")===o)return;const m=document.createElement("style");m.setAttribute("data-mui-layer-order",o),m.textContent=i,l.prepend(m)}else(s=l.querySelector(`style[data-mui-layer-order="${o}"]`))==null||s.remove()},[i,o]),i?r.jsx(Ze,{styles:i}):null}const Ce={};function Ee(e,t,o,n=!1){return y.useMemo(()=>{const i=e&&t[e]||t;if(typeof o=="function"){const a=o(i),s=e?{...t,[e]:a}:a;return n?()=>s:s}return e?{...t,[e]:o}:{...t,...o}},[e,t,o,n])}function U(e){const{children:t,theme:o,themeId:n}=e,i=Ne(Ce),a=ie()||Ce;T.env.NODE_ENV!=="production"&&(i===null&&typeof o=="function"||n&&i&&!i[n]&&typeof o=="function")&&console.error(["MUI: You are providing a theme function prop to the ThemeProvider component:","<ThemeProvider theme={outerTheme => outerTheme} />","","However, no outer theme is present.","Make sure a theme is already injected higher in the React tree or provide a theme object."].join(`
`));const s=Ee(n,i,o),l=Ee(n,a,o,!0),d=(n?s[n]:s).direction==="rtl",m=it(s);return r.jsx(Y,{theme:l,children:r.jsx(qe.Provider,{value:s,children:r.jsx(Ue,{value:d,children:r.jsxs(Je,{value:n?s[n].components:s.components,children:[m,t]})})})})}T.env.NODE_ENV!=="production"&&(U.propTypes={children:f.node,theme:f.oneOfType([f.func,f.object]).isRequired,themeId:f.string});T.env.NODE_ENV!=="production"&&T.env.NODE_ENV!=="production"&&(U.propTypes=Oe(U.propTypes));const le="mode",ae="color-scheme",lt="data-color-scheme";function at(e){const{defaultMode:t="system",defaultLightColorScheme:o="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=le,colorSchemeStorageKey:a=ae,attribute:s=lt,colorSchemeNode:l="document.documentElement",nonce:d}=e||{};let m="",c=s;if(s==="class"&&(c=".%s"),s==="data"&&(c="[data-%s]"),c.startsWith(".")){const S=c.substring(1);m+=`${l}.classList.remove('${S}'.replace('%s', light), '${S}'.replace('%s', dark));
      ${l}.classList.add('${S}'.replace('%s', colorScheme));`}const x=c.match(/\[([^[\]]+)\]/);if(x){const[S,u]=x[1].split("=");u||(m+=`${l}.removeAttribute('${S}'.replace('%s', light));
      ${l}.removeAttribute('${S}'.replace('%s', dark));`),m+=`
      ${l}.setAttribute('${S}'.replace('%s', colorScheme), ${u?`${u}.replace('%s', colorScheme)`:'""'});`}else m+=`${l}.setAttribute('${c}', colorScheme);`;return r.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${t}';
  const dark = localStorage.getItem('${a}-dark') || '${n}';
  const light = localStorage.getItem('${a}-light') || '${o}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${m}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function ct(){}const dt=({key:e,storageWindow:t})=>(!t&&typeof window<"u"&&(t=window),{get(o){if(typeof window>"u")return;if(!t)return o;let n;try{n=t.localStorage.getItem(e)}catch{}return n||o},set:o=>{if(t)try{t.localStorage.setItem(e,o)}catch{}},subscribe:o=>{if(!t)return ct;const n=i=>{const a=i.newValue;i.key===e&&o(a)};return t.addEventListener("storage",n),()=>{t.removeEventListener("storage",n)}}});function ne(){}function Te(e){if(typeof window<"u"&&typeof window.matchMedia=="function"&&e==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Pe(e,t){if(e.mode==="light"||e.mode==="system"&&e.systemMode==="light")return t("light");if(e.mode==="dark"||e.mode==="system"&&e.systemMode==="dark")return t("dark")}function mt(e){return Pe(e,t=>{if(t==="light")return e.lightColorScheme;if(t==="dark")return e.darkColorScheme})}function ht(e){const{defaultMode:t="light",defaultLightColorScheme:o,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:a=le,colorSchemeStorageKey:s=ae,storageWindow:l=typeof window>"u"?void 0:window,storageManager:d=dt,noSsr:m=!1}=e,c=i.join(","),x=i.length>1,S=y.useMemo(()=>d==null?void 0:d({key:a,storageWindow:l}),[d,a,l]),u=y.useMemo(()=>d==null?void 0:d({key:`${s}-light`,storageWindow:l}),[d,s,l]),v=y.useMemo(()=>d==null?void 0:d({key:`${s}-dark`,storageWindow:l}),[d,s,l]),[j,b]=y.useState(()=>{const h=(S==null?void 0:S.get(t))||t,g=(u==null?void 0:u.get(o))||o,p=(v==null?void 0:v.get(n))||n;return{mode:h,systemMode:Te(h),lightColorScheme:g,darkColorScheme:p}}),[w,V]=y.useState(m||!x);y.useEffect(()=>{V(!0)},[]);const K=mt(j),P=y.useCallback(h=>{b(g=>{if(h===g.mode)return g;const p=h??t;return S==null||S.set(p),{...g,mode:p,systemMode:Te(p)}})},[S,t]),B=y.useCallback(h=>{h?typeof h=="string"?h&&!c.includes(h)?console.error(`\`${h}\` does not exist in \`theme.colorSchemes\`.`):b(g=>{const p={...g};return Pe(g,k=>{k==="light"&&(u==null||u.set(h),p.lightColorScheme=h),k==="dark"&&(v==null||v.set(h),p.darkColorScheme=h)}),p}):b(g=>{const p={...g},k=h.light===null?o:h.light,$=h.dark===null?n:h.dark;return k&&(c.includes(k)?(p.lightColorScheme=k,u==null||u.set(k)):console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`)),$&&(c.includes($)?(p.darkColorScheme=$,v==null||v.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),p}):b(g=>(u==null||u.set(o),v==null||v.set(n),{...g,lightColorScheme:o,darkColorScheme:n}))},[c,u,v,o,n]),W=y.useCallback(h=>{j.mode==="system"&&b(g=>{const p=h!=null&&h.matches?"dark":"light";return g.systemMode===p?g:{...g,systemMode:p}})},[j.mode]),z=y.useRef(W);return z.current=W,y.useEffect(()=>{if(typeof window.matchMedia!="function"||!x)return;const h=(...p)=>z.current(...p),g=window.matchMedia("(prefers-color-scheme: dark)");return g.addListener(h),h(g),()=>{g.removeListener(h)}},[x]),y.useEffect(()=>{if(x){const h=(S==null?void 0:S.subscribe(k=>{(!k||["light","dark","system"].includes(k))&&P(k||t)}))||ne,g=(u==null?void 0:u.subscribe(k=>{(!k||c.match(k))&&B({light:k})}))||ne,p=(v==null?void 0:v.subscribe(k=>{(!k||c.match(k))&&B({dark:k})}))||ne;return()=>{h(),g(),p()}}},[B,P,c,t,l,x,S,u,v]),{...j,mode:w?j.mode:void 0,systemMode:w?j.systemMode:void 0,colorScheme:w?K:void 0,setMode:P,setColorScheme:B}}const ut="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function ft(e){const{themeId:t,theme:o={},modeStorageKey:n=le,colorSchemeStorageKey:i=ae,disableTransitionOnChange:a=!1,defaultColorScheme:s,resolveTheme:l}=e,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},m=y.createContext(void 0);T.env.NODE_ENV!=="production"&&(m.displayName="ColorSchemeContext");const c=()=>y.useContext(m)||d,x={},S={};function u(b){var w,V,K,P;const{children:B,theme:W,modeStorageKey:z=n,colorSchemeStorageKey:h=i,disableTransitionOnChange:g=a,storageManager:p,storageWindow:k=typeof window>"u"?void 0:window,documentNode:$=typeof document>"u"?void 0:document,colorSchemeNode:D=typeof document>"u"?void 0:document.documentElement,disableNestedContext:_e=!1,disableStyleSheetGeneration:Le=!1,defaultMode:Be="system",forceThemeRerender:ce=!1,noSsr:Ae}=b,Q=y.useRef(!1),de=ie(),Z=y.useContext(m),ee=!!Z&&!_e,me=y.useMemo(()=>W||(typeof o=="function"?o():o),[W]),he=me[t],M=he||me,{colorSchemes:I=x,components:ue=S,cssVarPrefix:te}=M,fe=Object.keys(I).filter(C=>!!I[C]).join(","),R=y.useMemo(()=>fe.split(","),[fe]),ge=typeof s=="string"?s:s.light,pe=typeof s=="string"?s:s.dark,Ke=I[ge]&&I[pe]?Be:((V=(w=I[M.defaultColorScheme])==null?void 0:w.palette)==null?void 0:V.mode)||((K=M.palette)==null?void 0:K.mode),{mode:Ie,setMode:oe,systemMode:ye,lightColorScheme:Se,darkColorScheme:xe,colorScheme:We,setColorScheme:ve}=ht({supportedColorSchemes:R,defaultLightColorScheme:ge,defaultDarkColorScheme:pe,modeStorageKey:z,colorSchemeStorageKey:h,defaultMode:Ke,storageManager:p,storageWindow:k,noSsr:Ae});let re=Ie,_=We;ee&&(re=Z.mode,_=Z.colorScheme),T.env.NODE_ENV!=="production"&&ce&&!M.vars&&console.warn(["MUI: The `forceThemeRerender` prop should only be used with CSS theme variables.","Note that it will slow down the app when changing between modes, so only do this when you cannot find a better solution."].join(`
`));let J=_||M.defaultColorScheme;M.vars&&!ce&&(J=M.defaultColorScheme);const F=y.useMemo(()=>{var C;const N=((C=M.generateThemeVars)==null?void 0:C.call(M))||M.vars,O={...M,components:ue,colorSchemes:I,cssVarPrefix:te,vars:N};if(typeof O.generateSpacing=="function"&&(O.spacing=O.generateSpacing()),J){const A=I[J];A&&typeof A=="object"&&Object.keys(A).forEach(L=>{A[L]&&typeof A[L]=="object"?O[L]={...O[L],...A[L]}:O[L]=A[L]})}return l?l(O):O},[M,J,ue,I,te]),q=M.colorSchemeSelector;$e(()=>{if(_&&D&&q&&q!=="media"){const C=q;let N=q;if(C==="class"&&(N=".%s"),C==="data"&&(N="[data-%s]"),C!=null&&C.startsWith("data-")&&!C.includes("%s")&&(N=`[${C}="%s"]`),N.startsWith("."))D.classList.remove(...R.map(O=>N.substring(1).replace("%s",O))),D.classList.add(N.substring(1).replace("%s",_));else{const O=N.replace("%s",_).match(/\[([^\]]+)\]/);if(O){const[A,L]=O[1].split("=");L||R.forEach(ze=>{D.removeAttribute(A.replace(_,ze))}),D.setAttribute(A,L?L.replace(/"|'/g,""):"")}else D.setAttribute(N,_)}}},[_,q,D,R]),y.useEffect(()=>{let C;if(g&&Q.current&&$){const N=$.createElement("style");N.appendChild($.createTextNode(ut)),$.head.appendChild(N),window.getComputedStyle($.body),C=setTimeout(()=>{$.head.removeChild(N)},1)}return()=>{clearTimeout(C)}},[_,g,$]),y.useEffect(()=>(Q.current=!0,()=>{Q.current=!1}),[]);const De=y.useMemo(()=>({allColorSchemes:R,colorScheme:_,darkColorScheme:xe,lightColorScheme:Se,mode:re,setColorScheme:ve,setMode:T.env.NODE_ENV==="production"?oe:C=>{F.colorSchemeSelector==="media"&&console.error(["MUI: The `setMode` function has no effect if `colorSchemeSelector` is `media` (`media` is the default value).","To toggle the mode manually, please configure `colorSchemeSelector` to use a class or data attribute.","To learn more, visit https://mui.com/material-ui/customization/css-theme-variables/configuration/#toggling-dark-mode-manually"].join(`
`)),oe(C)},systemMode:ye}),[R,_,xe,Se,re,ve,oe,ye,F.colorSchemeSelector]);let ke=!0;(Le||M.cssVariables===!1||ee&&(de==null?void 0:de.cssVarPrefix)===te)&&(ke=!1);const be=r.jsxs(y.Fragment,{children:[r.jsx(U,{themeId:he?t:void 0,theme:F,children:B}),ke&&r.jsx(Xe,{styles:((P=F.generateStyleSheets)==null?void 0:P.call(F))||[]})]});return ee?be:r.jsx(m.Provider,{value:De,children:be})}T.env.NODE_ENV!=="production"&&(u.propTypes={children:f.node,colorSchemeNode:f.any,colorSchemeStorageKey:f.string,defaultMode:f.string,disableNestedContext:f.bool,disableStyleSheetGeneration:f.bool,disableTransitionOnChange:f.bool,documentNode:f.any,forceThemeRerender:f.bool,modeStorageKey:f.string,noSsr:f.bool,storageManager:f.func,storageWindow:f.any,theme:f.object});const v=typeof s=="string"?s:s.light,j=typeof s=="string"?s:s.dark;return{CssVarsProvider:u,useColorScheme:c,getInitColorSchemeScript:b=>at({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:j,modeStorageKey:n,...b})}}function gt({theme:e,...t}){const o=H in e?e[H]:void 0;return r.jsx(U,{...t,themeId:o?H:void 0,theme:o||e})}const X={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"};T.env.NODE_ENV!=="production"&&(f.string,f.string,f.string,f.string,f.string,f.oneOf(["dark","light","system"]),f.string,f.string);const{CssVarsProvider:pt}=ft({themeId:H,theme:()=>et({cssVariables:!0}),colorSchemeStorageKey:X.colorSchemeStorageKey,modeStorageKey:X.modeStorageKey,defaultColorScheme:{light:X.defaultLightColorScheme,dark:X.defaultDarkColorScheme},resolveTheme:e=>{const t={...e,typography:tt(e.palette,e.typography)};return t.unstable_sx=function(o){return ot({sx:o,theme:this})},t}}),yt=pt;function St({theme:e,...t}){const o=y.useMemo(()=>{if(typeof e=="function")return e;const n=H in e?e[H]:e;return"colorSchemes"in n?null:"vars"in n?e:{...e,vars:null}},[e]);return o?r.jsx(gt,{theme:o,...t}):r.jsx(yt,{theme:e,...t})}function xt({width:e,height:t,shift:o}){const n=G();return r.jsx("rect",{width:e+o*2,height:t,fill:E.stripAlpha(n.palette.background.default)})}function Ve({model:e,height:t}){const{dynamicBlocks:o,offsetPx:n,interRegionPaddingWidth:i}=e;return r.jsx(r.Fragment,{children:o.contentBlocks.slice(1).map(a=>r.jsx("rect",{x:a.offsetPx-n-i,width:i,y:0,height:t,fill:"grey"},a.key))})}function vt({start:e,end:t,bpPerPx:o,reversed:n=!1,major:i=!0,minor:a=!0,hideText:s=!1}){const l=Ye(e,t,o,i,a),d=G(),m=E.stripAlpha(d.palette.text.secondary);return r.jsxs(r.Fragment,{children:[l.map(c=>{const x=(n?t-c.base:c.base-e)/o;return r.jsx("line",{x1:x,x2:x,y1:0,y2:c.type==="major"?6:4,strokeWidth:1,stroke:m},`tick-${c.base}`)}),s?null:l.filter(c=>c.type==="major").map(c=>{const x=(n?t-c.base:c.base-e)/o;return r.jsx("text",{x:x-3,y:18,fontSize:11,fill:m,children:E.getTickDisplayStr(c.base+1,o)},`label-${c.base}`)})]})}function kt({model:e,fontSize:t}){const{dynamicBlocks:{contentBlocks:o},offsetPx:n,bpPerPx:i}=e,a=o.length<5,s=G(),l=E.stripAlpha(s.palette.text.primary);return r.jsxs(r.Fragment,{children:[r.jsx(Ve,{model:e,height:30}),o.map(d=>{const{start:m,end:c,key:x,reversed:S,offsetPx:u,refName:v,widthPx:j}=d,b=u-n,w=`clip-${x}`;return r.jsxs("g",{children:[r.jsx("defs",{children:r.jsx("clipPath",{id:w,children:r.jsx("rect",{x:0,y:0,width:j,height:100})})}),r.jsx("g",{transform:`translate(${b} 0)`,children:r.jsxs("g",{clipPath:`url(#${w})`,children:[r.jsx("text",{x:4,y:t,fontSize:t,fill:l,children:v}),r.jsx("g",{transform:"translate(0 20)",children:r.jsx(vt,{hideText:!a,start:m,end:c,bpPerPx:i,reversed:S})})]})})]},x)})]})}function bt({model:e,fontSize:t}){const{offsetPx:o,dynamicBlocks:{totalWidthPxWithoutBorders:n,totalBp:i}}=e,a=G(),s=E.getBpDisplayStr(i),l=Math.max(-o,0),d=l+n,m=E.stripAlpha(a.palette.text.secondary),c=l+(d-l)/2,x=t;return r.jsxs(r.Fragment,{children:[r.jsx("line",{x1:l,x2:d,y1:10,y2:10,stroke:m}),r.jsx("line",{x1:l,x2:l,y1:5,y2:15,stroke:m}),r.jsx("line",{x1:d,x2:d,y1:5,y2:15,stroke:m}),r.jsx("text",{x:c,y:x,textAnchor:"middle",dominantBaseline:"hanging",fontSize:t,fill:m,children:s})]})}function jt({model:e,fontSize:t,cytobandHeight:o,rulerHeight:n}){const{width:i,assemblyNames:a,showCytobands:s,displayedRegions:l}=e,{assemblyManager:d}=E.getSession(e),m=a.length>1?"":a[0],c=d.get(m),x=G(),S=E.stripAlpha(x.palette.text.primary),u=He.create({displayedRegions:JSON.parse(JSON.stringify(l)),interRegionPaddingWidth:0,minimumBlockWidth:e.minimumBlockWidth}),v=e.dynamicBlocks.contentBlocks;if(!v.length)return null;u.setVolatileWidth(i),u.showAllRegions();const j=u.dynamicBlocks.contentBlocks[0],b=v.at(0),w=v.at(-1),V=u.bpToPx({...b,coord:b.reversed?b.end:b.start})||0,K=u.bpToPx({...w,coord:w.reversed?w.start:w.end})||0,P=+s*o;return r.jsxs("g",{id:"header",children:[r.jsx("text",{x:0,y:0,dominantBaseline:"hanging",fontSize:t,fill:S,children:m}),s?r.jsxs("g",{transform:`translate(0 ${n})`,children:[r.jsx(Ge,{overview:u,assembly:c,block:j}),r.jsx("rect",{stroke:"red",fill:"rgb(255,0,0)",fillOpacity:.1,width:Math.max(K-V,.5),height:we-1,x:V,y:.5}),r.jsx("g",{transform:`translate(0,${we})`,children:r.jsx(Fe,{overview:u,model:e,useOffset:!1})})]}):null,r.jsx("g",{transform:`translate(0 ${t+P})`,children:r.jsx(bt,{model:e,fontSize:t})}),r.jsx("g",{transform:`translate(0 ${n+P})`,children:r.jsx(kt,{model:e,fontSize:t})})]})}function wt({trackLabels:e,trackName:t,fontSize:o,trackLabelOffset:n,x:i}){const a=G(),s=E.stripAlpha(a.palette.text.primary),l=e==="overlay"?5:0,d=e==="offset"?5:0,m=E.coarseStripHTML(t);return e!=="none"?r.jsx("g",{children:e==="left"?r.jsx("text",{x:n-40,y:20,fill:s,fontSize:o,dominantBaseline:"hanging",textAnchor:"end",children:m}):r.jsx("text",{x:i+l,y:d,fill:s,fontSize:o,dominantBaseline:"hanging",children:m})}):null}function Ct({displayResults:e,model:t,textHeight:o,fontSize:n,trackLabels:i="offset",trackLabelOffset:a=0}){const s=E.getSession(t),l=i==="offset"?o:0;return r.jsx(r.Fragment,{children:e.reduce(({prevOffset:d,reactElements:m},{track:c,result:x})=>{const S=c.configuration,u=Me.getTrackName(S,s),v=c.displays[0],j=Math.max(-t.offsetPx,0);return{prevOffset:d+v.height+l,reactElements:[...m,r.jsxs("g",{transform:`translate(0 ${d})`,children:[r.jsxs("g",{transform:`translate(${a} ${l})`,children:[r.jsx(Ve,{model:t,height:v.height}),x]}),r.jsx(wt,{trackName:u,fontSize:n,trackLabels:i,trackLabelOffset:a,x:j})]},S.trackId)]}},{prevOffset:0,reactElements:[]}).reactElements})}function Et(e,t,o){return E.sum(e.map(n=>n.displays[0].height+(["none","left"].includes(o)?0:t)))}async function $t(e,t){await je(()=>e.initialized);const{textHeight:o=18,headerHeight:n=40,rulerHeight:i=50,fontSize:a=13,cytobandHeight:s=100,trackLabels:l="offset",themeName:d="default",Wrapper:m=({children:p})=>p}=t,c=E.getSession(e),{allThemes:x}=c,S=x==null?void 0:x()[d],{width:u,pinnedTracks:v,unpinnedTracks:j,tracks:b,showCytobands:w}=e,V=50,K=+w*s,P=n+i+K+10,B=Et(b,o,l)+P+100,W=await Promise.all([...v,...j].map(async p=>{const k=p.displays[0];return await je(()=>!k.renderProps().notReady),{track:p,result:await k.renderSvg({...t,theme:S})}})),z=E.max(b.map(p=>E.measureText(Me.getTrackName(p.configuration,c),a)),0)+40,h=l==="left"?z:0,g=u+h;return E.renderToStaticMarkup(r.jsx(St,{theme:Re.createJBrowseTheme(S),children:r.jsx(m,{children:r.jsxs("svg",{width:g,height:B,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,g+V*2,B].toString(),children:[r.jsx(xt,{width:g,height:B,shift:V}),r.jsxs("g",{transform:`translate(${V} 0)`,children:[r.jsx("g",{transform:`translate(${h})`,children:r.jsx(jt,{model:e,fontSize:a,rulerHeight:i,cytobandHeight:s})}),r.jsx("g",{transform:`translate(0 ${P})`,children:r.jsx(Ct,{textHeight:o,fontSize:a,model:e,displayResults:W,trackLabels:l,trackLabelOffset:h})})]})]})})}))}export{kt as SVGRuler,Ct as SVGTracks,$t as renderToSvg};
