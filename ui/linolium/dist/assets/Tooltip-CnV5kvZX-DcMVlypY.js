import{j as t,r as v}from"./index-Bwk-R6QR.js";import{o as $,ay as y,m as w,u as h}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import"./taxonium-component.es-D8UFPkMd.js";const C=w()(()=>({td:{whiteSpace:"nowrap"}})),D=(e=0)=>+(+e).toFixed(1),j=(e,d=1)=>`${D(e/(d||1)*100)}%`;function k({base:e,model:d}){var s;const{visibleModifications:o}=d;return e.startsWith("mod_")?t.jsx("div",{style:{width:10,height:10,background:(s=o.get(e.replace("mod_","")))===null||s===void 0?void 0:s.color}}):null}const E=v.forwardRef(function(e,d){const{feature:s,model:o}=e,{classes:f}=C(),l=s.get("start")+1,x=s.get("end"),u=s.get("refName"),{refbase:p,readsCounted:a,depth:T,ref:n,...m}=s.get("snpinfo");return t.jsx("div",{ref:d,children:t.jsxs("table",{children:[t.jsx("caption",{children:[u,l===x?h.toLocale(l):`${h.toLocale(l)}..${h.toLocale(x)}`].filter(c=>!!c).join(":")}),t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsx("th",{}),t.jsx("th",{children:"Base"}),t.jsx("th",{children:"Count"}),t.jsx("th",{children:"% of Total"}),t.jsx("th",{children:"Strands"})]})}),t.jsxs("tbody",{children:[t.jsxs("tr",{children:[t.jsx("td",{}),t.jsx("td",{children:"Total"}),t.jsx("td",{children:a}),t.jsx("td",{children:" "}),t.jsx("td",{children:" "})]}),t.jsxs("tr",{children:[t.jsx("td",{}),t.jsxs("td",{children:["REF ",p?`(${p.toUpperCase()})`:""]}),t.jsx("td",{children:n.entryDepth}),t.jsx("td",{children:j(n.entryDepth,a)}),t.jsxs("td",{children:[n[-1]?`${n[-1]}(-)`:"",n[1]?`${n[1]}(+)`:""]})]}),Object.entries(m).map(([c,b])=>Object.entries(b).map(([i,r])=>t.jsxs("tr",{children:[t.jsx("td",{children:t.jsx(k,{model:o,base:i})}),t.jsxs("td",{children:[i.toUpperCase()," "]}),t.jsx("td",{className:f.td,children:[r.entryDepth,r.avgProbability!==void 0?`(avg. ${j(r.avgProbability)} prob.)`:""].filter(g=>!!g).join(" ")}),t.jsx("td",{children:i==="depth"||i==="skip"?"---":j(r.entryDepth,a)}),t.jsxs("td",{children:[r[-1]?`${r[-1]}(-)`:"",r[1]?`${r[1]}(+)`:""]})]},`${c}_${i}`)))]})]})})}),R=$(function(e){const{model:d}=e,{featureUnderMouse:s}=d;return s&&s.get("type")==="skip"?null:t.jsx(y,{TooltipContents:E,...e})});export{R as default};
