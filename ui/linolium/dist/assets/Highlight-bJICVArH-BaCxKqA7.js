import{r as u,j as o}from"./index-Bwk-R6QR.js";import{o as v,m as j,u as M,a3 as B,a4 as P,U as k,a as w,ao as z,af as x}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import"./taxonium-component.es-D8UFPkMd.js";const C=k(o.jsx("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),H=k(o.jsx("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),R=j()(a=>({highlight:{height:"100%",position:"absolute",overflow:"hidden",background:x.colord(a.palette.highlight.main).alpha(.35).toRgbString()},linkIcon:{color:x.colord(a.palette.highlight.main).darken(.2).toRgbString()},z3:{zIndex:3}})),E=v(function({model:a,highlight:t}){var l;const{classes:r}=R(),[p,m]=u.useState(!1),c=u.useRef(null),s=M.getSession(a),{assemblyManager:b}=s,d=()=>{a.removeHighlight(t)};function f(){m(!1)}const N=e=>{const i=a.bpToPx({refName:e.refName,coord:e.start}),h=a.bpToPx({refName:e.refName,coord:e.end});return i&&h?{width:Math.max(Math.abs(h.offsetPx-i.offsetPx),3),left:Math.min(i.offsetPx,h.offsetPx)-a.offsetPx}:void 0},g=b.get(t.assemblyName),n=N({...t,refName:(l=g==null?void 0:g.getCanonicalRefName(t.refName))!==null&&l!==void 0?l:t.refName});return n?o.jsxs("div",{className:r.highlight,style:{left:n.left,width:n.width},children:[o.jsx(B,{title:"Highlighted from URL parameter",arrow:!0,children:o.jsx(P,{ref:c,className:r.z3,onClick:()=>{m(!0)},children:o.jsx(H,{fontSize:"small",className:r.linkIcon})})}),o.jsx(w.Menu,{anchorEl:c.current,onMenuItemClick:(e,i)=>{i(s),f()},open:p,onClose:f,menuItems:[{label:"Dismiss highlight",icon:z,onClick:()=>{d()}},{label:"Bookmark highlighted region",icon:C,onClick:()=>{let e=s.widgets.get("GridBookmark");e||(e=s.addWidget("GridBookmarkWidget","GridBookmark")),e.addBookmark(t),d()}}]})]}):null});export{E as default};
