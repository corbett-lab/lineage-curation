import{j as r,r as y}from"./index-Bwk-R6QR.js";import{a as q,D as I,T as k,d as Q,B as _,u as R,P as F,E as v,G as j,bF as G,bE as J,bc as K,H as x,I as L,z as T,A as N}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import{q as w,O,o as e}from"./taxonium-component.es-D8UFPkMd.js";import{_ as h,T as U,z as C}from"./TableCell-mfS6Ut2J-N_4-_qc3.js";import{f as W}from"./Divider-DzCbFD9M-BaKdmFVz.js";import"./dividerClasses-CVTzPOoo-DLNaoCl0.js";function X(o){return N("MuiTable",o)}T("MuiTable",["root","stickyHeader"]);const Y=o=>{const{classes:a,stickyHeader:n}=o;return x({root:["root",n&&"stickyHeader"]},X,a)},Z=j("table",{name:"MuiTable",slot:"Root",overridesResolver:(o,a)=>{const{ownerState:n}=o;return[a.root,n.stickyHeader&&a.stickyHeader]}})(L(({theme:o})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...o.typography.body2,padding:o.spacing(2),color:(o.vars||o).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:a})=>a.stickyHeader,style:{borderCollapse:"separate"}}]}))),E="table",V=y.forwardRef(function(o,a){const n=v({props:o,name:"MuiTable"}),{className:s,component:t=E,padding:i="normal",size:l="medium",stickyHeader:c=!1,...p}=n,b={...n,component:t,padding:i,size:l,stickyHeader:c},g=Y(b),d=y.useMemo(()=>({padding:i,size:l,stickyHeader:c}),[i,l,c]);return r.jsx(U.Provider,{value:d,children:r.jsx(Z,{as:t,role:t===E?null:"table",ref:a,className:w(g.root,s),ownerState:b,...p})})});O.env.NODE_ENV!=="production"&&(V.propTypes={children:e.node,classes:e.object,className:e.string,component:e.elementType,padding:e.oneOf(["checkbox","none","normal"]),size:e.oneOfType([e.oneOf(["medium","small"]),e.string]),stickyHeader:e.bool,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});function ee(o){return N("MuiTableBody",o)}T("MuiTableBody",["root"]);const oe=o=>{const{classes:a}=o;return x({root:["root"]},ee,a)},re=j("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),ne={variant:"body"},H="tbody",z=y.forwardRef(function(o,a){const n=v({props:o,name:"MuiTableBody"}),{className:s,component:t=H,...i}=n,l={...n,component:t},c=oe(l);return r.jsx(C.Provider,{value:ne,children:r.jsx(re,{className:w(c.root,s),as:t,ref:a,role:t===H?null:"rowgroup",ownerState:l,...i})})});O.env.NODE_ENV!=="production"&&(z.propTypes={children:e.node,classes:e.object,className:e.string,component:e.elementType,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});function ae(o){return N("MuiTableContainer",o)}T("MuiTableContainer",["root"]);const te=o=>{const{classes:a}=o;return x({root:["root"]},ae,a)},se=j("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),A=y.forwardRef(function(o,a){const n=v({props:o,name:"MuiTableContainer"}),{className:s,component:t="div",...i}=n,l={...n,component:t},c=te(l);return r.jsx(se,{ref:a,as:t,className:w(c.root,s),ownerState:l,...i})});O.env.NODE_ENV!=="production"&&(A.propTypes={children:e.node,classes:e.object,className:e.string,component:e.elementType,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});function le(o){return N("MuiTableHead",o)}T("MuiTableHead",["root"]);const ce=o=>{const{classes:a}=o;return x({root:["root"]},le,a)},ie=j("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),de={variant:"head"},S="thead",B=y.forwardRef(function(o,a){const n=v({props:o,name:"MuiTableHead"}),{className:s,component:t=S,...i}=n,l={...n,component:t},c=ce(l);return r.jsx(C.Provider,{value:de,children:r.jsx(ie,{as:t,className:w(c.root,s),ref:a,role:t===S?null:"rowgroup",ownerState:l,...i})})});O.env.NODE_ENV!=="production"&&(B.propTypes={children:e.node,classes:e.object,className:e.string,component:e.elementType,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});function pe(o){return N("MuiTableRow",o)}const D=T("MuiTableRow",["root","selected","hover","head","footer"]),ue=o=>{const{classes:a,selected:n,hover:s,head:t,footer:i}=o;return x({root:["root",n&&"selected",s&&"hover",t&&"head",i&&"footer"]},pe,a)},me=j("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(o,a)=>{const{ownerState:n}=o;return[a.root,n.head&&a.head,n.footer&&a.footer]}})(L(({theme:o})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${D.hover}:hover`]:{backgroundColor:(o.vars||o).palette.action.hover},[`&.${D.selected}`]:{backgroundColor:o.alpha((o.vars||o).palette.primary.main,(o.vars||o).palette.action.selectedOpacity),"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.primary.main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`)}}}))),$="tr",M=y.forwardRef(function(o,a){const n=v({props:o,name:"MuiTableRow"}),{className:s,component:t=$,hover:i=!1,selected:l=!1,...c}=n,p=y.useContext(C),b={...n,component:t,hover:i,selected:l,head:p&&p.variant==="head",footer:p&&p.variant==="footer"},g=ue(b);return r.jsx(me,{as:t,ref:a,className:w(g.root,s),role:t===$?null:"row",ownerState:b,...c})});O.env.NODE_ENV!=="production"&&(M.propTypes={children:e.node,classes:e.object,className:e.string,component:e.elementType,hover:e.bool,selected:e.bool,sx:e.oneOfType([e.arrayOf(e.oneOfType([e.func,e.object,e.bool])),e.func,e.object])});function fe({searchResults:o,assemblyName:a,model:n,handleClose:s}){const t=R.getSession(n),{pluginManager:i}=R.getEnv(t),{assemblyManager:l}=t,c=a||n.displayedRegions[0].assemblyName,p=l.get(c);if(!p)throw new Error(`assembly ${c} not found`);if(!p.regions)throw new Error(`assembly ${c} regions not loaded`);function b(d){var u;if(d){const f=i.pluggableConfigSchemaType("track"),m=G(f,J(n),d);return((u=m==null?void 0:m.name)===null||u===void 0?void 0:u.value)||""}return""}async function g(d){var u;if(d.hasLocation())await K({option:d,model:n,assemblyName:c});else{const f=d.getLabel(),m=(u=p==null?void 0:p.regions)===null||u===void 0?void 0:u.find(P=>f===P.refName);m&&(n.setDisplayedRegions([m]),n.showAllRegions())}}return r.jsx(A,{component:F,children:r.jsxs(V,{children:[r.jsx(B,{children:r.jsxs(M,{children:[r.jsx(h,{children:"Name"}),r.jsx(h,{align:"right",children:"Location"}),r.jsx(h,{align:"right",children:"Track"}),r.jsx(h,{align:"right"})]})}),r.jsx(z,{children:o.map(d=>{const u=d.getLocation();let f;try{f=u?R.parseLocString(u,m=>p.isValidRefName(m)):void 0}catch{}return r.jsxs(M,{children:[r.jsx(h,{component:"th",scope:"row",children:d.getLabel()}),r.jsx(h,{align:"right",children:f?R.assembleLocString({...f,refName:p.getCanonicalRefName(f.refName)||f.refName}):u}),r.jsx(h,{align:"right",children:b(d.getTrackId())||"N/A"}),r.jsx(h,{align:"right",children:r.jsx(_,{onClick:async()=>{try{await g(d)}catch(m){console.error(m),t.notifyError(`${m}`,m)}s()},color:"primary",variant:"contained",children:"Go"})})]},d.getId())})})]})})}function xe({model:o,assemblyName:a,searchQuery:n,searchResults:s,handleClose:t}){return r.jsxs(q.Dialog,{open:!0,maxWidth:"xl",onClose:t,title:"Search results",children:[r.jsx(I,{children:s!=null&&s.length?r.jsxs(r.Fragment,{children:[r.jsxs(k,{children:["Showing results for ",r.jsx("b",{children:n})]}),r.jsx(fe,{model:o,handleClose:t,assemblyName:a,searchResults:s})]}):r.jsxs(k,{children:["No results found for ",r.jsx("b",{children:n})]})}),r.jsx(W,{}),r.jsx(Q,{children:r.jsx(_,{onClick:()=>{t()},color:"primary",children:"Cancel"})})]})}export{xe as default};
