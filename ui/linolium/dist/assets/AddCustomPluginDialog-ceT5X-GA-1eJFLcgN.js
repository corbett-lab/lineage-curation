import{r as t,j as e}from"./index-Bwk-R6QR.js";import{o as U,m as P,u as R,a as y,D as L,c as u,a4 as k,d as w,B as x}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import{S as A}from"./ExpandMore-D_3gmqEI-BdX02XnD.js";import{h as m}from"./DialogContentText-InFbTjBo-BLNq3_Le.js";import{S as D}from"./Collapse-BxSvw4ja-BFsBk1wj.js";import"./taxonium-component.es-D8UFPkMd.js";const E=P()(n=>({dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}})),$=U(function({onClose:n,model:g}){const{classes:s,cx:p}=E(),[i,f]=t.useState(""),[o,j]=t.useState(""),[l,v]=t.useState(""),[r,b]=t.useState(""),[d,C]=t.useState(!1),{jbrowse:c}=R.getSession(g),S=!!(i&&o||l||r);function h(){i&&o?c.addPlugin({name:i,umdUrl:o}):l?c.addPlugin({esmUrl:l}):r&&c.addPlugin({cjsUrl:r})}return e.jsx(y.Dialog,{open:!0,onClose:n,title:"Add custom plugin",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs(L,{className:s.dialogContent,children:[e.jsx(m,{children:"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."}),e.jsx(u,{label:"Plugin name",variant:"outlined",value:i,onChange:a=>{f(a.target.value)}}),e.jsx(u,{label:"Plugin URL",variant:"outlined",value:o,onChange:a=>{j(a.target.value)}}),e.jsxs(m,{onClick:()=>{C(!d)},children:[e.jsx(k,{className:p(s.expand,{[s.expandOpen]:d}),"aria-expanded":d,"aria-label":"show more",children:e.jsx(A,{})}),"Advanced options"]}),e.jsx(D,{in:d,children:e.jsxs("div",{className:s.dialogContent,children:[e.jsx(m,{children:"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."}),e.jsx(u,{label:"ESM build URL",variant:"outlined",value:l,onChange:a=>{v(a.target.value)}}),e.jsx(u,{label:"CJS build URL",variant:"outlined",value:r,onChange:a=>{b(a.target.value)}})]})})]}),e.jsxs(w,{children:[e.jsx(x,{variant:"contained",onClick:n,children:"Cancel"}),e.jsx(x,{variant:"contained",color:"primary",onClick:h,disabled:!S,children:"Submit"})]})]})})});export{$ as default};
