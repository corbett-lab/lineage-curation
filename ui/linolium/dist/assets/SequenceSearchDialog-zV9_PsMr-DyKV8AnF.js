import{r,j as e}from"./index-Bwk-R6QR.js";import{o as b,m as T,a as q,D as w,T as p,c as A,F,d as R,B as g,u as j,e as D}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import{F as l}from"./FormControlLabel-t1db3bCW-BhUWxcLA.js";import{X as i}from"./Checkbox-DRfuV2d3-Bnouab3n.js";import"./taxonium-component.es-D8UFPkMd.js";const E=T()({dialogContent:{width:"40em"}}),X=b(function({model:t,handleClose:c}){const{classes:C}=E(),[s,S]=r.useState(""),[d,f]=r.useState(!0),[h,k]=r.useState(!0),[u,v]=r.useState(!0);let n;try{new RegExp(s)}catch(a){n=a}return e.jsxs(q.Dialog,{maxWidth:"xl",open:!0,onClose:c,title:"Sequence search",children:[e.jsxs(w,{className:C.dialogContent,children:[e.jsx(p,{children:"Supply a sequence to search for. A track will be created with the resulting matches once submitted. You can also supply regex style expressions e.g. AACT(C|T)."}),e.jsx(A,{value:s,onChange:a=>{S(a.target.value)},helperText:"Sequence search pattern"}),e.jsxs(F,{children:[e.jsx(l,{control:e.jsx(i,{checked:d,onChange:a=>{f(a.target.checked)}}),label:"Search forward strand"}),e.jsx(l,{control:e.jsx(i,{checked:h,onChange:a=>{k(a.target.checked)}}),label:"Search reverse strand"}),e.jsx(l,{control:e.jsx(i,{checked:u,onChange:a=>{v(a.target.checked)}}),label:"Case insensitive"})]}),n?e.jsx(p,{color:"error",children:`${n}`}):null]}),e.jsxs(R,{children:[e.jsx(g,{onClick:()=>{var a;if(s){const m=`sequence_search_${+Date.now()}`,o=j.getSession(t),{assemblyManager:y}=o,x=t.assemblyNames[0];j.isSessionWithAddTracks(o)&&(o.addTrackConf({trackId:m,name:`Sequence search ${s}`,assemblyNames:[x],type:"FeatureTrack",adapter:{type:"SequenceSearchAdapter",search:s,searchForward:d,searchReverse:h,caseInsensitive:u,sequenceAdapter:D((a=y.get(x))===null||a===void 0?void 0:a.configuration.sequence.adapter)}}),t.showTrack(m))}c()},variant:"contained",color:"primary",children:"Submit"}),e.jsx(g,{onClick:()=>{c()},variant:"contained",color:"secondary",children:"Close"})]})]})});export{X as default};
