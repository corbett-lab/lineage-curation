import{j as e,r as y}from"./index-Bwk-R6QR.js";import{u as x,b as w,r as P,g as R}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import"./taxonium-component.es-D8UFPkMd.js";async function F(n,s){const{height:h,id:g}=n,{overrideHeight:l}=s,m=x.getContainingView(n),{offsetPx:p,roundedDynamicBlocks:f,width:j}=m,u=await Promise.all(f.map(async r=>{const o=w.create({key:r.key,region:r}),t=n.regionCannotBeRenderedText(r)||n.regionCannotBeRendered(r);if(t)return[r,{reactElement:e.jsxs(e.Fragment,{children:[e.jsx("rect",{x:0,y:0,width:j,height:20,fill:"#aaa"}),e.jsx("text",{x:0,y:15,children:t})]})}];const{rpcManager:c,renderArgs:d,renderProps:a,rendererType:i}=P(o,n);return[r,await i.renderInClient(c,{...d,...a,viewParams:x.getViewParams(n,!0),exportSVG:s,theme:s.theme||a.theme})]}));return e.jsx(e.Fragment,{children:u.map(([r,o],t)=>{const{offsetPx:c,widthPx:d}=r,a=c-p,i=R(g,t);return e.jsxs(y.Fragment,{children:[e.jsx("defs",{children:e.jsx("clipPath",{id:i,children:e.jsx("rect",{x:0,y:0,width:d,height:l||h})})}),e.jsx("g",{transform:`translate(${a} 0)`,children:e.jsx("g",{clipPath:`url(#${i})`,children:e.jsx(x.ReactRendering,{rendering:o})})})]},`frag-${t}`)})})}export{F as renderBaseLinearDisplaySvg};
