import{o}from"./rxjs-euq-mp90-DvajfGj-.js";import{m as n}from"./simpleFeature-CxppDrI6-CpRiIJat.js";import m from"./FromConfigAdapter-k2st8QBB-Cxw3MjSU.js";import{$ as d,a0 as g}from"./JBrowsePanel-CjeUdi3D-Dhrr89W5.js";import"./taxonium-component.es-D8UFPkMd.js";import"./index-Bwk-R6QR.js";import"./index-Bp4pXTEU-Cipcrd2k.js";class $ extends m{getFeatures(t){return o.ObservableCreate(async a=>{const r=(await d(super.getFeatures(t).pipe(g())))[0];a.next(new n({...r.toJSON(),uniqueId:`${r.id()}:${t.start}-${t.end}`,end:t.end,start:t.start,seq:r.get("seq").slice(Math.max(t.start-r.get("start"),0),Math.max(t.end-r.get("start"),0))})),a.complete()})}async getRegions(){const t=[];for(const[a,r]of this.features){let e;for(const s of r)e&&e.end>=s.get("start")&&e.start<=s.get("end")?e.end=s.get("end"):(e&&t.push(e),e={refName:a,start:s.get("start"),end:s.get("end")});e&&t.push(e)}return t}}export{$ as default};
